# 얼굴 인식 테스트 페이지 사용법

## 🚀 시작하기

### 1. 서버 실행
먼저 plate_pay-AI 서버가 실행되어 있어야 합니다:

```bash
# plate_pay-AI 디렉토리에서
cd ../plate_pay-AI
docker-compose up -d

# 또는 직접 실행
python run.py
```

### 2. 웹 앱 실행
```bash
# plate-pay-web 디렉토리에서
npm start
```

### 3. 페이지 접속
- 브라우저에서 `http://localhost:3000` 접속
- 상단 네비게이션에서 "🔐 얼굴 인식 테스트" 클릭

## 📋 기능 사용법

### 1. 얼굴 등록
1. **사용자 ID 입력**: 고유한 사용자 ID 입력 (예: user123)
2. **이미지 선택**: 
   - 📁 파일 업로드: 컴퓨터에서 얼굴 사진 선택
   - 📷 웹캠 사용: 실시간으로 얼굴 사진 촬영
3. **등록 버튼 클릭**: "🔐 얼굴 등록" 버튼으로 등록

### 2. 얼굴 검증
1. **등록된 사용자 ID 입력**: 이미 등록한 사용자 ID 입력
2. **검증용 이미지 선택**: 동일한 방법으로 얼굴 사진 준비
3. **검증 버튼 클릭**: "✅얼굴 검증" 버튼으로 인증 시도

### 3. 등록된 사용자 확인
- 하단의 "👥 등록된 사용자" 섹션에서 등록된 사용자 목록 확인
- 사용자 이름 클릭으로 빠른 선택 가능
- "🔄 새로고침" 버튼으로 목록 업데이트

## 🎯 사용 시나리오

### 시나리오 1: 신규 사용자 등록
```
1. 사용자 ID: "alice" 입력
2. 웹캠으로 얼굴 사진 촬영
3. 얼굴 등록 버튼 클릭
4. "성공적으로 등록되었습니다" 메시지 확인
```

### 시나리오 2: 본인 인증
```
1. 사용자 ID: "alice" 입력 (이미 등록된 사용자)
2. 파일 업로드로 본인 얼굴 사진 선택
3. 얼굴 검증 버튼 클릭
4. 신뢰도와 함께 인증 결과 확인
```

### 시나리오 3: 타인 인증 (실패 테스트)
```
1. 사용자 ID: "alice" 입력
2. 다른 사람의 얼굴 사진 업로드
3. 얼굴 검증 버튼 클릭
4. "인증 실패" 결과 확인
```

## 🔧 기능 상세

### 지원하는 이미지 형식
- JPG, PNG, GIF 등 모든 이미지 형식
- 권장 해상도: 640x480 이상
- 권장 용량: 5MB 이하

### 얼굴 인식 요구사항
- **명확한 얼굴**: 얼굴이 선명하게 보여야 함
- **정면 촬영**: 가능한 정면에서 촬영된 사진
- **적절한 조명**: 너무 어둡거나 밝지 않은 환경
- **단일 얼굴**: 한 장의 사진에 한 명의 얼굴만

### 신뢰도 해석
- **80% 이상**: 매우 높은 신뢰도, 확실한 본인
- **60-80%**: 높은 신뢰도, 본인일 가능성 높음
- **40-60%**: 보통 신뢰도, 추가 확인 필요
- **40% 미만**: 낮은 신뢰도, 타인일 가능성 높음

## 🐛 문제 해결

### "서버에 연결할 수 없습니다"
- plate_pay-AI 서버가 실행 중인지 확인
- Docker 컨테이너 상태 확인: `docker ps`
- 포트 8000이 사용 중인지 확인: `netstat -an | grep 8000`

### "얼굴을 찾을 수 없습니다"
- 더 명확한 얼굴 사진 사용
- 조명 상태 개선
- 얼굴이 화면 중앙에 위치하도록 조정

### "등록된 사용자를 찾을 수 없습니다"
- 사용자 ID 철자 확인
- 먼저 얼굴 등록 진행
- 등록된 사용자 목록에서 확인

### 웹캠이 작동하지 않는 경우
- 브라우저 카메라 권한 허용
- 다른 애플리케이션에서 카메라 사용 중인지 확인
- 파일 업로드 방식으로 대체 사용

## 📊 API 엔드포인트

개발자를 위한 API 정보:

### 얼굴 등록
```
POST /api/v1/face/register
Content-Type: multipart/form-data
Body: user_id, file
```

### 얼굴 검증
```
POST /api/v1/face/verify
Content-Type: multipart/form-data
Body: user_id, file
```

### 사용자 목록
```
GET /api/v1/face/users
```

## 💡 팁

1. **일관된 환경**: 등록과 검증 시 비슷한 조명과 각도 사용
2. **여러 각도 등록**: 향후 업데이트에서 지원될 다중 얼굴 등록 대비
3. **정기적 재등록**: 외모 변화 시 얼굴 재등록 권장
4. **보안 고려**: 실제 운영 환경에서는 추가 보안 조치 필요

## 🔒 보안 주의사항

- 현재는 테스트용 인메모리 저장소 사용
- 실제 운영 시 암호화된 데이터베이스 필요
- HTTPS 사용 권장
- 얼굴 데이터 보관 정책 수립 필요